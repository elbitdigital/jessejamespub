<!DOCTYPE html>
<html lang="">
<meta charset="UTF-8">
<title>Jesse James Assis - Agenda</title>
<meta name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
<script src="dist/js/villa.min.js"></script>
<link rel="stylesheet" href="dist/css/villa.min.css"/>
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="dist/css/material-colors.css"/>
<link rel="stylesheet" type="text/css" href="dist/css/villa-cross.min.css"/>
<script src="dist/js/html5shiv.js"></script>
<script src="dist/js/html5shiv-printshiv.js"></script>
<script src="dist/js/classList.min.js"></script>
<![endif]-->

<style>

    .Schedule-addNewEventButton {
        cursor: pointer;
    }

    .Schedule-list {
        padding-top: 1em;
    }

</style>

<style>

    .Event {
        /*background-color: #9c27b0;*/
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-flex-flow: column;
        flex-flow: column;
        margin-bottom: 1em;
        padding: 0 1em;
    }

    .Event-content {
        background-color: rgba(55,55,55,.72);
        -webkit-align-items: center;
        align-items: center;
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-flex-flow: row;
        flex-flow: row;
        padding: 1em;
    }

    .Event-content span {
        color: #ffffff;
        -webkit-align-items: center;
        align-items: center;
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        height: 3rem;
        -webkit-justify-content: center;
        justify-content: center;
        margin-bottom: 0;
        padding: 0 1rem;
        text-transform: uppercase;
        text-align: center;
        width: 100%;
    }

    .Event-content span.Event-date {
        border-right: solid 2px #ffffff;
        font-size: .75em;
        font-weight: 900;
        width: 6rem;
    }

    .Event-content span.Event-title {
        border-right: solid 2px #ffffff;
        font-size: 1em;
        font-weight: 900;
        width: 12rem;
    }

    .Event-content span.Event-weekDay {
        display: none;
        font-size: 2.25em;
        font-weight: 900;
    }

    .Event-content a.Event-link {
        border: solid 3px #ffffff;
        border-radius: 6px;
        color: #ffffff;
        margin-left: 1em;
        font-weight: 900;
        padding: .375rem .75rem;
        -webkit-transition: all .4s;
        -moz-transition: all .4s;
        -ms-transition: all .4s;
        -o-transition: all .4s;
        transition: all .4s;
    }

    .Event-content a.Event-link:hover {
        color: #2962ff;
        background-color: #ffffff;
    }

    .Event-headerImage {
        -webkit-align-items: center;
        align-items: center;
        background-color: #212121;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        display: -webkit-box;
        display: -moz-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        height: calc(100vw - 2em);
        -webkit-justify-content: center;
        justify-content: center;
        width: 100%;
    }

</style>

<body class="grey-900 font-white">

<main>

    <div id="event-list" class="Schedule-list"></div>

</main>


<script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyAMTCtuJ2DyPiBx5qBHeDg_OU1KW4UzURY",
    authDomain: "jessejamespub-com-br.firebaseapp.com",
    databaseURL: "https://jessejamespub-com-br.firebaseio.com",
    projectId: "jessejamespub-com-br",
    storageBucket: "jessejamespub-com-br.appspot.com",
    messagingSenderId: "118227352953"
  };
  firebase.initializeApp(config);
</script>

<script>

  var databaseRef = firebase.database().ref('/');
  var scheduleRef = databaseRef.child('schedule');
  var eventsRef = scheduleRef.child('items');

  // storage ref
  var storageRef = firebase.storage().ref();
  var eventImageStorageRef = storageRef.child('eventImage');

</script>

<script>

  var eventListElement = document.getElementById('event-list');

</script>

<script>

  // funções

</script>

<script>

  eventsRef.on('child_added', function (snap) {

    var eventData = snap.val();
    var eventReferenceKey = snap.key;
    var eventRef = eventsRef.child(eventReferenceKey);

    // O EVENTO
    var eventElement = document.createElement('div');
    eventElement.className = 'Event';
    eventElement.dataset.eventReferenceKey = eventReferenceKey;
    eventListElement.appendChild(eventElement);

    // HEADER (IMAGEM)
    var headerImageElement = document.createElement('div');
    headerImageElement.className = 'Event-headerImage';
    eventRef.child('headerImageURL').on('value', function (snap) {

      headerImageElement.style.backgroundImage = 'url("' + snap.val() + '")';

    });
    eventElement.appendChild(headerImageElement);

    // CONTENT
    var contentElement = document.createElement('div');
    contentElement.className = 'Event-content';
    eventElement.appendChild(contentElement);

    // DATA DO EVENTO
    var weekDayElement = document.createElement('span');
    weekDayElement.className = 'Event-weekDay';
    eventRef.child('weekDay').on('value', function (snap) {

      weekDayElement.innerText = snap.val();

    });
    contentElement.appendChild(weekDayElement);

    // DATA DO EVENTO
    var dateElement = document.createElement('span');
    dateElement.className = 'Event-date';
    eventRef.child('date').on('value', function (snap) {

      dateElement.innerText = snap.val();

    });
    contentElement.appendChild(dateElement);

    // TITULO DO EVENTO
    var titleElement = document.createElement('span');
    titleElement.className = 'Event-title';
    eventRef.child('title').on('value', function (snap) {

      titleElement.innerText = snap.val();

    });
    contentElement.appendChild(titleElement);

    var facebookEventLinkElement = document.createElement('a');
    facebookEventLinkElement.className = 'Event-link';
    facebookEventLinkElement.href = '#';
    facebookEventLinkElement.innerText = 'F';
    contentElement.appendChild(facebookEventLinkElement);

  });

</script>

</body>

</html>